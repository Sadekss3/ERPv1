{% extends 'main_template.html' %}
{% load bootstrap %}
{% block site_name %}VAT Sales Invoice{% endblock %}
{% load mathfilters %}
{% block site %}

<script type="text/javascript">
    function addRows(){ 
        var table = document.getElementById('emptbl');
        var rowCount = table.rows.length;
        var cellCount = table.rows[0].cells.length; 
        var row = table.insertRow(rowCount);
        for(var i =0; i <= cellCount; i++){
            var cell = 'cell'+i;
            cell = row.insertCell(i);
            var copycel = document.getElementById('col'+i).innerHTML;
            cell.innerHTML=copycel;
            if(i == 3){ 
                var radioinput = document.getElementById('col3').getElementsByTagName('input'); 
                for(var j = 0; j <= radioinput.length; j++) { 
                    if(radioinput[j].type == 'radio') { 
                        var rownum = rowCount;
                        radioinput[j].name = 'gender['+rownum+']';
                    }
                }
            }
        }
    }
    function deleteRows(){
        var table = document.getElementById('emptbl');
        var rowCount = table.rows.length;
        if(rowCount > '2'){
            var row = table.deleteRow(rowCount-1);
            rowCount--;
        }
        else{
            alert('There should be atleast one row');
        }
    }
    </script>


<form method="post" onchange=change()>
    <div class="container-fluid px-4">
        
        <div class="row g-3 my-2">
            <div class="col-md-3">
                {{form.type|bootstrap}}
            </div>

            <div class="col-md-3">
                {{form.doc_number|bootstrap}}
            </div>
        </div>  

        <div class="row g-3 my-2">
            <div class="col-md-3">
                {{form.client|bootstrap}}
            </div>
        </div>

        <div class="row g-3 my-2">
            <div class="col-md-3">
                {{form.sales_date|bootstrap}}
                {{form.payment_date|bootstrap}}
                {{form.pay_date|bootstrap}}
            </div>
            <div class="col-md-3">
                {{form.payment_method|bootstrap}}
            </div>
        </div>    
        
        <div id ="POItablediv" class="row my-5">
            <div class="col my-3 g-3">
                    <div class="table-wrapper-scroll-y my-custom-scrollbar">
                        <br>
                        <input type="button" id="addPOIbutton" value="Add POIs" /><br/><br/>
                        <table  id="emptbl" class="table bg-white rounded shadow-sm  table-hover">
 
                                <tr>
                                    <th scope="col">No</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Unit</th>
                                    <th scope="col">In Stock</th>
                                </tr>


                                <tr>
                                    <th id="col0" >1</th>
                                    <th id="col1" >{{ form.product|bootstrap }}</th>
                                    <th id="col2" >{{ form.product|bootstrap }}</th>
                                    <th id="col3" >{{ form.product|bootstrap }}</th>
                                    <td><input type="button" value="Add Row" onclick="addRows()" /></td> 
                                    <td><input type="button" value="Delete Row" onclick="deleteRows()" /></td> 
                                </tr>
                        </table>
                        <table> 
                            <tr> 
                                
                                <td><input type="submit" value="Submit" /></td> 
                            </tr>  
                        </table>
                        <!-- <table id="emptbl" class="table bg-white rounded shadow-sm  table-hover">
                            <tr>
                                <th>Employee Name</th>
                            </tr> 
                            <tr> 
                                <td id="col0"><input type="text" name="empname[]" value="" /></td> 
                            </tr>  
                        </table> 
                        <table> 
                            <tr> 
                                <td><input type="button" value="Add Row" onclick="addRows()" /></td> 
                                <td><input type="button" value="Delete Row" onclick="deleteRows()" /></td> 
                                <td><input type="submit" value="Submit" /></td> 
                            </tr>  
                        </table>  -->
                    </div>
            </div>
        </div>    
    </div>
</form>

{% endblock %}